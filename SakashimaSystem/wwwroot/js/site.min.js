$(function(){addRow=function(t){if(!$(".editing")[0]){var d=$(t).closest("div").siblings("table"),e=$("#table-template").find("tbody >tr:last-child").clone();e.attr("data-kpt-id","0"),e.find("td:not(:last-child) span").text(""),e.find("td:not(:last-child) input").val(""),e.find("td:not(:last-child) span").text(""),e.find("td:not(:last-child) input").val(""),e.find("td:last-child >.btn-group-1").hide(),e.find("td:last-child >.btn-group-2").show(),d.find("tbody").prepend(e),e.addClass("editing")}},editRow=function(t){if(!$(".editing")[0]){var d=$(t).closest("tr");d.find("td:not(:last-child) span").hide(),d.find("td:not(:last-child) input").show(),d.find("td:last-child >.btn-group-1").hide(),d.find("td:last-child >.btn-group-2").show(),d.addClass("editing")}},cancelEdit=function(){if(jqxhr&&1===jqxhr.readyState)return!1;$(".loader").show(),jqxhr=$.ajax({type:"get",url:location.href,dataType:"html"}).done(function(t,d,e){var i=$("<div></div>").html(t).find("main >*");$("main").addClass("fixed-height"),$("main").html(i),$("main").removeClass("fixed-height"),$(".loader").hide()}).fail(function(t,d,e){$(".loader").hide()})},upsertItem=function(t){var d="/Kpt/UpsertItem";"/Kpt"!==location.pathname&&(d=d+"/"+getLastSeg()),postData(d,t)},deleteItem=function(t){document.getElementById("DeleteItemIndex").value=t,document.getElementById("IsDeleteMode").value=!0,document.kptForm.submit()},$("#sortdata").sortable()});